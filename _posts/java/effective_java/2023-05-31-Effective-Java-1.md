---
layout: post
title: Effective Java (1)
date: 2023-05-31
categories: [java, effective]
tags: [java, effective]
---
# Effective Java (1)

***
## Ch1 들어가기
- 책은 총 90개의 아이템
- 보는 순서는 무관
- 책의 규칙은 명료성(clarity)과 단순성(simplicity)
- 컴포넌트는 사용자를 놀라게 하는 일 없이, 정해진 동작이나 예측할 수 있는 동작만 수행
  - 여기서 컴포넌트란, 메서드부터 여러 패키지로 된 복잡한 프레임워크까지 재사용 가능한 모든 소프트웨어 요소
- 코드는 복사가 아닌 재사용
- 컴포넌트 간 의존성 최소로 유지
- 위에 나열된 것들을 어겨도 되나, 합당한 이유가 필요

#### 용어 정리
- 메서드 시그니처: 메서드 이름과 입력 매개변수의 타입들(반환 타입은 제외)
- 상속(inheritance)와 서브클래싱(subclassing)은 같은 용어
- 클래스가 인터페이스를 상속이 아닌 구현(implement)
- 인터페이스가 인터페이스를 확장(extend)
- 나머지 자바 용어는 자바 언어 명세와 같다.
- 공개 API(exported API) = API(application programming interface)
  - 프로그래머가 접근할 수 있는 모든 클래스, 인터페이스, 생성자, 멤버, 직렬화된 형태
- API를 사용하는 사람: user(사용자)
- API를 사용하는 코드: client

#### java9의 module system
모듈 개념을 적용하면, 공개하겠다고 한 패키지들의 공개 API만 공개된다. 즉 공개할 패키지를 선택할 수 있다.

***
## Ch2 객체 생성과 파괴
- 객체를 만들어야 할 때와 만들지 말아야 할 떄를 구분하는 법
- 올바른 객체 생성 방법과 불필요한 생성을 피하는 방법
- 제때 파괴됨을 보장하고 파괴 전에 수행해야 할 정리 작업을 관리하는 요령


### item1. 생성자 대신 정적 팩토리 메서드를 고려하라
- 디자인 패턴에서 말하는 팩토리 메서드(Factory Method)와 정적 팩토리 메서드는 다르다.
- 클래스는 client에 public constructor 대신(혹은 생성자와 함께) 정적 팩토리 메서드를 제공 가능

#### 정적 팩토리 메서드의 장점(사용할 이유)
1. 이름을 가질 수 있다.
   - 생성자는 모두 이름이 같다! 매개변수와 생성자 자체만으로는 반환될 객체의 특성을 제대로 설명할 수 없다.
   - 매개변수의 순서와 타입이 같아도 이름을 다르게 할 수 있다. -> 이런 상황이 필요하면 사용!
2. 호출될 떄마다 인스턴스를 새로 생성하지 않아도 된다.(선택)
   - 불변 클래스(immutable class)는 인스턴스를 미리 생성할 수 있다.
   - 새로 생성한 인스턴스를 캐싱하여 재활용할 수 있다.
   - 불필요한 객체 생성을 줄일 수 있다.
   - `Flyweight pattern`도 비슷한 기법
   - 언제 어느 인스턴스를 살아 있게 할지를 통제할 수 있다.
     - 싱글톤 가능
     - 인스턴스화 불가(noninstantiable)
3. 반환 타입의 하위 타입 객체를 반환할 수 있다.(여기부터 다시)
   - 반환할 객체의 클래스를 선택할 수 있게 하는 유연성 제공
4. 